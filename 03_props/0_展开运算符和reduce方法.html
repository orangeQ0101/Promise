<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>展开运算符和数组reduce方法</title>
</head>

<body>
  <script type="text/javascript">
    // 1. 展开运算符 ...
    // 1.1 依次打印数组数据
    const arr1 = [1, 3, 5, 7, 9]
    // console.log(...arr1);
    // 1.2 连接数组
    const arr2 = [2, 4, 6, 8, 10]
    // console.log(...arr1, ...arr2);
    // 1.3 对Fn形参，批量传入参数
    function sum(...numbers) {
      // 1.3.1 console.log(numbers);
      // 为什么需要两个return?
      // 第二个return: reduce()对数组中每个元素执行一次回调函数Fn，本次Fn返回值作为下次Fn的实参accumulator传入回调
      // 第一个return: reduce()将最后一次回调函数Fn的运行结果作为函数总的结果返回，需要在外部使用变量或者return关键字接收reduce()的运行结果
      return numbers.reduce((accumulator, currentValue) => {
        return accumulator + currentValue
      }, 0)
    }
    // 1.3.1 得到一个数组
    // sum(1, 2, 3, 4, 5, 6)   // [1,2,3,4,5,6]
    // 1.3.2 对数组求和
    // console.log(sum(1, 2, 3, 4, 5, 6));   // 21

    // 1.4 复制对象内容
    let person = { name: 'Tom', age: 19 }
    // console.log(...person);  // 报错，展开运算符不能展开对象
    let person2 = { ...person, age: 20 }
    person.name = 'orange'
    // 合并对象，以最后一个参数为准
    let person3 = { ...person, ...person2 }
    console.log(person);
    console.log(person2);
    console.log(person3);

    // 2. reduce()函数: 数组方法，reduce(Fn[,initialValue])
    // Fn(accumulator, currentValue){}: reduce()对数组中每个元素按索引升序依次执行Fn，本元素Fn执行结果作为下个元素Fn的accumulator参与计算
    // initialValue(可选): 若不设置，Fn第一次执行时，accumulator为arr[0],currentValue为arr[1]; 若设置，Fn第一次执行时，accumulator为initialValue,currentValue为arr[0]
  </script>
</body>

</html>